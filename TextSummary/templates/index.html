{% extends 'base.html' %}
{% block title %}Home{% endblock title %}
{% block body %}
<div class="row justify-content-center">
    <div class="col-lg-8 text-center">
        <h1 class="display-4 fw-bold">Summarize Your Documents</h1>
        <p class="lead mb-4">Simply upload a PDF file and get a concise summary in seconds. Our tool uses advanced NLP to extract the most important information for you.</p>
    </div>
</div>

<div class="row justify-content-center mt-5">
    <div class="col-lg-6">
        <div class="card shadow-sm">
            <div class="card-body">
                <h5 class="card-title text-center mb-4">Upload Your PDF</h5>
                <form enctype="multipart/form-data" method="post" action="/summarize" id="summarizeForm">
                    {% csrf_token %}
                    <div class="mb-3">
                        <input class="form-control form-control-lg" id="formFileLg" name="file" type="file" accept=".pdf" required>
                    </div>
                    <div class="d-grid">
                        <button class="btn btn-primary btn-lg" id="submitBtn" type="submit">
                            <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                            <span class="button-text">Summarize</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('summarizeForm').addEventListener('submit', function() {
        var submitBtn = document.getElementById('submitBtn');
        var spinner = submitBtn.querySelector('.spinner-border');
        var buttonText = submitBtn.querySelector('.button-text');

        // Disable button and show spinner
        submitBtn.disabled = true;
        spinner.classList.remove('d-none');
        buttonText.textContent = 'Summarizing...';
    });
</script>
{% endblock body %}